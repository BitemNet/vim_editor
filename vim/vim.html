<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Kurs Praktyczna Administracja - Edytor Vim! - Łukasz Bartnicki - Udemy</title>
	<style>
	body {
		    background-color: #D3D3D3;
	}
	kbd {
		background-color: PaleGoldenRod;
	}
	.error {
		color: white;
		background-color: red;
		font-family: monospace;
	}
	</style>
</head>
<body>
	<h1>1. Wstęp</h1>
		<h2>1.1. Wstęp</h2>
		<p>
			Najpopularniejsz edytor tekstowy wśród czytelników <em>Linux Journal</em>, używany regularnie przez administratorów i programistów.
		</p>
		<p>
			Umożliwia: szybkie i sprawne edytowanie plików tekstowych z poziomu terminala i przy pomocy klawiatury.
		</p>
		<p>
			Grupa wsparcia na Facebooku: <a target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/groups/356275395543025">Administratorzy Baz Danych - nauka i pomoc</a>.
		</p>
		<h2>1.2. Dlaczego Vim?</h2>
		<p>
			Vim - jest rozwinięciem edytora <strong>Vi</strong>, która dodaje nowe funkcjonalności i pozwala w bardziej przystępny sposób edytować pliki tekstowe. Jego cechy to:
		</p>
		<ul>
			<li>Open-Source - darmowy, bez licencji.</li>
			<li>Wieloplatformowy. Zainstalowany na każdym systemie Unix i Linux.</li>
			<li>Bardzo wydajny - ze względu na przetwarzanie tekstu jak i wydajność pracy.</li>
			<li>Nie wymaga użycia myszki. Szybkie skróty klawiaturowe. Dobrze przemyślana klawiszologia.</li>
			<li>Rozwijany cały czas od 1991.</li>
			<li>Podświetla i koloruje składnie (nowa funkcjonalość w stostunku do Vi).</li>
			<li>Proste do zapamiętania polecenia. Komendy układają się w przejrzyste schematy. Wbudowana dokumentacja.</li>
		</ul>
	<h1>2. Poznaj kluczowe operacje w edytorze Vim!</h1>
		<h2>2.1. Tryb pracy edytora</h2>
		<ul>Główne:
			<li><strong>Normal/Command Mode</strong> &mdash; tryb normalny. Dostępny zaraz po uruchomieniu. Tryb sterowania, komend i poleceń.</li>
			<li><strong>Insert Mode</strong> &mdash; tryb wpisywania. Tryb edytowania.</li>
			<li><strong>Command-Line Mode</strong> &mdash; tryb liniowy. Tryb komend po dwukropku związany z komunikacją z systemem (zapisywanie itp.)</li>
			Inne:
			<li><strong>Visual Mode</strong> &mdash; tryb wizualny. Pozwala zaznaczać za pomocą myszki.</li>
			<li><strong>Replace Mode</strong> &mdash; tryb podmiany tekstu.</li>
			<li>&hellip;</li>
		</ul>
		<h2>2.2. Włączanie, wyłączanie edytora i zapisywanie plików</h2>
		<p>
			<strong>vi</strong> to <em>alias</em> do <strong>vim</strong> utowrzony na poziomie sesji użytkownika. Oba polecenia uruchamiają Vim'a.
		</p>
		<p>
			<kbd>:q</kbd> &mdash; wyjście z vima, jeśli nie było zmian.
			Po wprowadzeniu zmian ta komenda wywołuje <b class="error">E37: No write since last change (add ! to override)</b>.
		</p>
		<p>
			<kbd>$ vi plik</kbd> &mdash; otwiera plik o nazwie <em>plik</em> lub tworzy go jeśli nie istnieje (ale dopiero w momencie zapisu &ndash;
			wyjście z vima bez żadnych zmian nie tworzy tak otwartego pliku). Na dole paska pojawia się informacja <code>"plik" [New File]</code>.
		</p>
		<p>
			<kbd>i</kbd> &mdash; wejście w tryb <em>Insert mode</em>.
		</p>
		<p>
			<kbd>ESC</kbd> &mdash; wyjście z aktualnego trybu do <em>Command Mode</em>.
		</p>
		<p>
			<kbd>:q!</kbd> &mdash; wyjście bez zapisywania wprowadzonych zmian.
		</p>
		<p>
			<kbd>:w</kbd> &mdash; zapis zmian w pliku. Na dole paska pojawia się informacja: nazwa, ilość linii, ilość znaków, <em>written</em>.
			Jeśli jest to nowy plik to dodatkowo pojawia się informacja <code>"plik" [New] 1L, 15C written</code>.
		</p>
		<p>
			<kbd>:wq</kbd> &mdash; łączona komenda <em>zapisz i wyjdź</em>.
		</p>
		<h2>2.3. Ćwiczenie praktyczne 01 - Korzystanie z edytora Vim</h2>
		<p>
			<ol>
				<li><kbd>$ cd folder</kbd> # enter to any folder</li>
				<li><kbd>$ vim cwprakt01.txt</kbd> # create a file and enter into vim</li>
				<li><kbd>i<kbd> # lunch <em>insert mode</em></li>
				<li><kbd>abc...</kbd> # insert any text</li>
				<li><kbd>ESC</kbd> # escape into <em>command mode</em></li>
				<li><kbd>:w</kbd> # save file</li>
				<li><kbd>:q</kbd> # quit vim</li>
				<li><kbd>$ ls -alh cwprakt01.txt</kbd> # check file existing</li>
				<li><kbd>$ cat cwprakt01.txt</kbd> # check the content</li>
			</ol>
		</p>
	<h1>3. Dowiedz się jak nawigować po plikach</h1>
		<h2>3.1. Nawigacja w tekście - koncepcje</h2>
		<img style="width: 50%; float: left; margin-right: 20px; margin-bottom: 30px;" src="media/navigate.png" alt="Nawigowanie po tekście.">
		<p>
			<kbd>h, j, k, l</kbd> &mdash; znak w: lewo, dół, góra, prawo. W nowych systemach działają też strzałki.
		</p>
		<p>
			<kbd>b, w</kbd> &mdash; słowo w tył, słowo w przód.
		</p>
		<p>
			<kbd>SHIFT-b, SHIFT-w</kbd> &mdash; jak wyżej; ignoruj znaki interpunkcyjne.
		</p>
		<p>
			<kbd>z, ENTER</kbd> &mdash; centruj.
		</p>
		<p>
			<kbd>CTRL-b, CTRL-f</kbd> &mdash; strona do góry, strona do dołu (<em>PgUp</em>, <em>PgDown</em>).
		</p>
		<p>
			<kbd>0, ^, $</kbd> &mdash; skocz na: początek linii, początek pierwszego słowa, koniec linii.
		</p>
		<h2 style="clear: left;">3.2. Nawigacja w tekście po znakach, wierszach i stronach w praktyce!</h2>
		<p>
			<strong>~</strong> &mdash; tyldy w edytorze na końcu pliku oznaczają, że te linie nie posiadają żadnych znaków,
			jest to obszar końca pliku.
		</p>
		<p>
			<kbd>gg, 0gg, 1gg, :0, :1</kbd> &mdash; skok na początek pliku.
		</p>
		<p>
			<kbd>SHIFT-g</kbd> &mdash; skok na koniec pliku.
		</p>
		<p>
			<kbd>3gg, 3SHIFT-g, :3</kbd> &mdash; skok do np. 3 linijki.
		</p>
		<p>
			<kbd>12w, 5b, 4SHIFT-w, 7SHIFT-b</kbd> &mdash; 12 słów do przodu, 5 słów do tyłu oraz ignorując znaki interpunkcyjne
			4 słowa do przodu i 7 słów do tyłu.
		</p>
		<h2>3.3. Ćwiczenie praktyczne 02 - Nawigowanie w edytorze Vim</h2>
		<p>
			<ol>
				Otwarcie pliku:
				<li><kbd>$ cd folder</kbd> # enter to any folder</li>
				<li><kbd>$ vim sshd_config_sample.txt</kbd> # open the file</li>
				Poruszanie się po znakach:
				<li><kbd>h, j, k, l<kbd> # move across characters</li>
				Poruszanie się po słowach:
				<li><kbd>j, w, b, h</kbd> # move down the line, move right, back and at the beginning of the line</li>
				<li><kbd>SHIFT-b, SHIFT-w</kbd> # move across the real words</li>
				Poruszanie się po stronach:
				<li><kbd>CTRL-f, CTRL-b</kbd> # PgDwn, PgUp</li>
				Poruszanie się po linii:
				<li><kbd>0, $</kbd> # move to the end and at the beginning of the line</li>
				Poruszanie się po liniach:
				<li><kbd>SHIFT-g</kbd> # move to the end of the file</li>
				<li><kbd>gg</kbd> # move at the beginning  of the file</li>
				<li><kbd>:12</kbd> # move to the 12 line</li>
			</ol>
		</p>
	<h1>4. Usuwaj i kopiuj tekst na wiele sposobów</h1>
		<h2>4.1. Usuwanie różnych kawałków tekstu - koncepcja [count]{operation} motion</h2>
		<p>
			<strong>[count]{operation}motion,</strong> lub <strong>{operation}[count]motion</strong> &mdash; koncepcja łączenia komend i ich powtarzalność.
		</p>
		<p>
			Vim został zaprojektowany tak, aby skróty klawiaturowe układały się w angielskie polecenia, np. <kbd>2dw</kbd> &ndash;
			<em lang="en">two delete words</em> = <em lang="pl">usuń dwa słowa</em>.
		</p>
		<p>
			Położenie kursora na znaku oznacza, że tak na prawdę jest on przed znakiem.
		</p>
		<p>
			<kbd>d</kbd> &mdash; (<em lang="en">delete</em>) <u>operation</u> usuwanie.
		</p>
		<p>
			<kbd>w</kbd> &mdash; (<em lang="en">word</em>) <u>motion</u> słowo.
		</p>
		<img style="width: 50%; float: left; margin-right: 20px; margin-bottom: 30px;" src="media/delete.png" alt="Usuwanie tekstu.">
		<p>
			<kbd>dw, 2dw, d2w</kbd> &mdash; usuń słowo, usuń dwa słowa.
		</p>
		<p>
			<kbd>dh, 3dh</kbd> &mdash; usuwanie znaku/ów po lewo.
		</p>
		<p>
			<kbd>dl, x, 1dl, x, 1x</kbd> &mdash; usuwanie znaku/ów po prawo oraz skrót do tego.
		</p>
		<p>
			<kbd>dk, 5dk</kbd> &mdash; usuwanie lini aktualnej i jednej wyżej lub aktualnej i 5 wyżej.
		</p>
		<p>
			<kbd>dj, 5dj</kbd> &mdash; usuwanie lini aktualnej i jednej niżej lub aktualnej i 5 niżej.
		</p>
		<p>
			<kbd>d0</kbd> &mdash; usuwa tekst do początku linii.
		</p>
		<p>
			<kbd>d$, SHIFT-d</kbd> &mdash; usuwa tekst do końca linii.
		</p>
		<p style="clear: left;">
			Kolejna koncepcja pojawiająca się Vimie, to <u>wciśnięcie dwa razy operatora dotyczy całej linii</u>.
		</p>
		<p>
			<kbd>dd, 5dd, d5d</kbd> &mdash; usuń jedną linię, usuń 5 linii.
		</p>
		<p>
			<kbd>.</kbd> &mdash; kropka powtarza ostatnią operację.
		</p>
		<h2>4.2. Ćwiczenie praktyczne 03 - Usuwanie tekstu</h2>
		<ol>
			Otwieranie pliku:
			<li><kbd>vim sshd_config_sample.txt</kbd> # open a sample file</li>
			Usuwanie słów:
			<li><kbd>j</kbd> # move over the characte</li>
			<li><kbd>x</kbd> # delete the highlight character</li>
			<li><kbd>l</kbd> # move to the first word</li>
			<li><kbd>dw</kbd> # delete a word</li>
			<li><kbd>x</kbd> # delete the sign after word</li>
			Usuwanie do początku i końca linii:
			<li><kbd>d$</kbd> # delete until the end of the line</li>
			<li><kbd>d0</kbd> # delete until at the beginning of the line</li>
			<li><kbd>x</kbd> # delete a left character</li>
			Usuwanie linii:
			<li><kbd>dd</kbd> # delete a line</li>
			<li><kbd>2dd</kbd> # delete two lines</li>
		</ol>
	<h1>5. Kopiowanie tekstu i rejestry</h1>
		<h2>5.1. Wycinanie i kopiowanie tekstu</h2>
		<p>
			<strong>Delete</strong> wycina tekst do schowka.<br>
			<strong>Yank</strong> kopiuje tekst do schowka.<br>
			<strong>Put</strong> wstawia tekst ze schowka za kursorem (jeśli jest to fragment) lub poniżej aktualnej linii
			(jeśli jest to cała linia), lub z SHIFT'em przed kursorem (fragement) lub powyżej aktualnej linii (linia).
		</p>
		<img style="width: 50%; float: left; margin-right: 20px; margin-bottom: 30px;" src="media/copy.png" alt="Kopiowanie tekstu.">
		<p>
			<kbd>yy, 2yy, y2y</kbd> &mdash; kopiowanie linii oraz dwóch linii.
		</p>
		<p>
			<kbd>y0, y$</kbd> &mdash; kopiowanie od aktualnego kursora do początku i końca linii.
		</p>
		<p>
			<kbd>yh, yl, 2yh, y3l</kbd> &mdash; kopiowanie znaku/ów na lewo i prawo.
		</p>
		<p>
			<kbd>yj, y2j, yk y3k</kbd> &mdash; kopiowanie linii aktualnej i powyżej (2 powyżej) oraz to samo w dół (3 linii).
		</p>
		<p>
			<kbd>yw, y2w, 2yw, yb, y2b, 2yb</kbd> &mdash; kopiowanie słowa lub dwóch do przodu i do tyłu.
		</p>
		<p>
			<kbd>p, SHIFT-p, 2p, 2SHIFT-p</kbd> &mdash; wklej za kursorem lub linią, przed kursorem lub linią, wklej dwa razy.
		</p>
		<h2 style="clear: left;">5.2. Rejestry</h2>
		<p>
			Schowki w Vimie to <b>rejestry</b>. 
		</p>
		<ul>
			Rejestr default'owy:
			<li><strong>""</strong> &mdash; do którego leci aktualnie kopiowany lub usuwany tekst, gotowy do wklejenia.</li>
			Rejestry liczbowe:
			<li><strong>"0</strong> &mdash; rejest 0, do którego trafia tekst kopiowany, jest nadpisywany.</li>
			<li><strong>"1 - "9</strong> &mdash; kolejka FIFO rejestrów przesuwnych do których trafiają kolejne teksty usuwane.<br>
				Oznacza to, że Vim przechowuje historię ostatnich 9 usuwań co mocno zabezpiecza przed przypadkową utratą.<br>
				Ostatni wypadający z kolejki znika na zawsze.</li>
			Rejestry literowe:
			<li><strong>"a - "z</strong> &mdash; rejestry w pełni zarządzane przez użytkownika, który sam decyduje co i do jakiego rejestru trafi
				i co i kiedy zostanie z niego wyciągnięte lub usunięte.<br>
				Przy czym mała litera nadpisuja rejestr, duża litera dodaja do już istniejącej zawartości rejestru.
			</li>
		</ul>
		<img style="width: 50%; float: left; margin-right: 20px; margin-bottom: 30px;" src="media/register.png" alt="Koncepcja rejestru.">
		<p>
			<kbd>:reg</kbd> &mdash; podgląd rejestrów, wychodzimy ENTER'em. Na liście mogą pojawić się również
			<a href="https://en.wikipedia.org/wiki/ANSI_escape_code#Description" target="_blank">ANSI&nbsp;escape&nbsp;sequences</a>.
		</p>
		<p>
			<kbd>:reg 2</kbd> &mdash; podgląd tylko rejestru np. drugiego.
		</p>
		<p>
			<kbd>"syw</kbd> &mdash; skopiuj słowo do rejestru <em>s</em>.
		</p>
		<p>
			<kbd>"0yl</kbd> &mdash; skopiuj znak pod kursorem do rejestru <em>0</em>.
		</p>
		<p>
			<kbd>"add</kbd> &mdash; usuń całą linię i umieść ją w rejestrze <em>a</em>. 
		</p>
		<p>
			<kbd>"ap</kbd> &mdash; wklej zawartość rejestru <em>a</em>.
		</p>
		<p>
			<kbd>"2SHIFT-p</kbd> &mdash; wklej zawartość rejestru <em>2</em> przed kursorem (lub powyżej aktualnej linii).
		</p>
		<p>
			<kbd>"ay$</kbd> &mdash; nadpisz rejestr <em>a</em> kopiowanym tekstem od pozycji kursora do końca linii.<br>
			<kbd>"Ayb</kbd> &mdash; dodaj do już istniejącej zawartości w rejestrze <em>a</em> nowe kopiowane słowo przed kursorem.
		</p>
		<h2 style="clear: left;">5.3. Ćwiczenie praktyczne 04 - Kopiowanie tekstu</h2>
		<ol>
			Otwieranie pliku:
			<li><kbd>vim sshd_config_sample.txt</kbd> # open a sample file</li>
			Kopiowanie linii:
			<li><kbd>3j</kbd> # move to the third line</li>
			<li><kbd>yy</kbd> # copy the line</li>
			<li><kbd>p</kbd> # paste the line below</li>
			<li><kbd>x</kbd> # delete the # char</li>
			<li><kbd>$</kbd> # move to the end of the line</li>
			<li><kbd>xx</kbd> # delete two characters at the end of line</li>
			<li><kbd>i</kbd> # enter into the insert mode</li>
			<li><kbd>yes</kbd> # type given word</li>
			<li><kbd>ESC</kbd> # leave the insert mode</li>
			Wycinanie linii:
			<li><kbd>dd</kbd> # cut the current line</li>
			<li><kbd>k</kbd> # move back to the previus line</li>
			<li><kbd>SHIFT-p</kbd> # paste a default register above the current line</li>
		</ol>
	<h1>6. Dodawaj i łącz tekst</h1>
		<h2>6.1. Dodawanie, podmienianie i łączenie tekstu - koncepcje</h2>
		<img style="width: 50%; float: left; margin-right: 20px; margin-bottom: 30px;" src="media/text_operation.png" alt="Działania na tekście.">
		<p>
			<kbd></kbd>
		</p>
</body>
</html>

